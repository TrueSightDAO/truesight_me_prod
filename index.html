<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
<title>A Better World based on Compassion | TrueSight DAO</title>
    <meta
      name="description"
      content="TrueSight DAO is a community of builders using open-source social ventures to heal the world with compassion."
    />
    <link
      rel="icon"
      href="https://static.wixstatic.com/ficons/0e2cde_dd65db118f8f499eb06c159d7262167d%7Emv2.ico"
      type="image/x-icon"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles/main.css" />
</head>
  <body>
    <nav class="site-header">
      <div class="header-container">
        <a href="index.html" class="header-logo">
          <img
            src="https://static.wixstatic.com/media/0e2cde_f81b16c82ebe4aaca4b5ce54b819a693~mv2.png/v1/fill/w_622,h_160,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/20240612_truesight_dao_logo_long.png"
            alt="TrueSight DAO"
            width="155"
            height="40"
            loading="eager"
          />
        </a>
        <button class="menu-toggle" aria-label="Toggle menu" aria-expanded="false">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>
        <ul class="nav-menu" aria-hidden="true">
          <li><a href="index.html">Home</a></li>
          <li><a href="agroverse.html">Agroverse</a></li>
          <li><a href="sunmint.html">Sunmint</a></li>
          <li><a href="edgar.html">Edgar</a></li>
          <li><a href="about-us.html">About Us</a></li>
          <li><a href="blog/index.html">Blog</a></li>
          <li><a href="https://truesight.me/whitepaper" target="_blank" rel="noreferrer">Whitepaper</a></li>
          <li><a href="https://dapp.truesight.me" target="_blank" rel="noreferrer">DApp</a></li>
        </ul>
      </div>
    </nav>
    <div class="page">
      <header class="hero">
        <p class="pill">TrueSight DAO</p>
        <h1>Building a Better World <span>Based on Compassion</span></h1>
        <p>
          Our mission is to heal the world with love using an open-source philosophy. We earn governance tokens by
          building and contributing to social ventures that drive social and environmental justice, alleviating
          suffering. Profits from our ventures boost token value and unlock meaningful, transparent impact.
        </p>
        <div class="cta-row">
          <a class="cta primary" href="https://truesight.me/whitepaper" target="_blank" rel="noreferrer">
            Whitepaper
          </a>
          <a class="cta secondary" href="#movement">Co-Create</a>
          <a class="cta tertiary" href="https://dapp.truesight.me" target="_blank" rel="noreferrer">
            Access DApp
          </a>
        </div>

        <div class="stats-grid" aria-label="Ecosystem statistics" id="stats-grid">
          <!-- Stats will be populated dynamically from exchange-rates.json -->
          <article class="stat-card">
            <h3>USD Treasury Balance</h3>
            <p class="stat-value" data-key="USD_TREASURY_BALANCE">—</p>
          </article>
          <article class="stat-card">
            <h3>Asset per TDG Issued</h3>
            <p class="stat-value" data-key="ASSET_PER_TDG_ISSUED">—</p>
          </article>
          <article class="stat-card">
            <h3>Total TDG Issued</h3>
            <p class="stat-value" data-key="TDG_ISSUED">—</p>
          </article>
          <article class="stat-card">
            <h3>Past 30 Days Sales</h3>
            <p class="stat-value" data-key="PAST_30_DAYS_SALES">—</p>
          </article>
          <article class="stat-card">
            <h3>Daily Buy-Back Budget</h3>
            <p class="stat-value" data-key="TDG_DAILY_BUY_BACK_BUDGET">—</p>
          </article>
        </div>
      </header>

      <section id="movement">
        <div class="split">
          <div>
            <h2>Join Our Movement</h2>
            <p class="section-lead">
              Contribute acts of compassion at <strong>100&nbsp;TDG per hour</strong>, or <strong>1&nbsp;TDG per USD</strong>,
              and help us co-create a regenerative economy. Every contribution is logged on-chain so anyone can track our
              shared impact.
            </p>
            <p>
              Whether you design systems, plant trees, mentor farmers, or storytell, there is room for your gifts. Learn
              how we score contributions, mint TDG, and put capital to work for the Amazon rainforest and the people who
              steward it.
            </p>
          </div>
          <div class="card">
            <h3>Ways to Get Involved</h3>
            <p>Start where you are—our community values compassion in action over pedigree.</p>
            <ul>
              <li>Log compassionate actions to earn TDG governance tokens.</li>
              <li>Prototype open-source tools that make impact data auditable.</li>
              <li>Channel liquidity toward agroforestry and regenerative ventures.</li>
            </ul>
          </div>
        </div>
      </section>

      <section id="initiatives">
        <p class="pill">Community initiatives</p>
        <h2>Community Initiatives</h2>
        <p class="section-lead">
          From cacao distribution networks to AI agents, our ecosystem blends grassroots wisdom with exponential
          technology to regenerate the Amazon and beyond.
        </p>

        <div class="card-grid">
          <article class="card card--media-top">
            <img src="assets/agroverse-module.jpg" alt="Agroverse cacao farmers working together" loading="lazy" />
            <div class="card-body">
              <div class="pill">Agroverse</div>
              <h3>Transparent Distribution Network</h3>
              <p>
                Connecting small-scale cacao farmers regenerating the Amazon to global markets with traceable tokenomics.
              </p>
              <ul>
                <li>Regenerative farming and forest protection</li>
                <li>Empowering smallholder collectives</li>
                <li>Transparent supply chain evolution</li>
                <li>Community-driven profit sharing</li>
              </ul>
              <div>
                <a class="text-link" href="agroverse.html">Explore Agroverse</a>
                <span style="color: var(--muted);">·</span>
                <a class="text-link" href="https://truesight.me/agl" target="_blank" rel="noreferrer">AGL Ledger</a>
                <span style="color: var(--muted);">·</span>
                <a class="text-link" href="https://truesight.me/dao/agroverse/whitepaper" target="_blank" rel="noreferrer">Whitepaper</a>
              </div>
            </div>
          </article>

          <article class="card card--media-top">
            <img src="assets/sunmint-module.jpg" alt="SunMint agroforestry canopy" loading="lazy" />
            <div class="card-body">
              <div class="pill">SunMint</div>
              <h3>Reforesting the Amazon</h3>
              <p>
                A pioneering initiative dedicated to reforestation, soil regeneration, and carbon sequestration for future
                generations.
              </p>
              <ul>
                <li>Agroforestry systems that revitalize the biome</li>
                <li>Carbon credits unlocked as cacao trees are planted</li>
              </ul>
              <div>
                <a class="text-link" href="sunmint.html">Explore Sunmint</a>
                <span style="color: var(--muted);">·</span>
                <a class="text-link" href="https://truesight.me/dao/sunmit/project" target="_blank" rel="noreferrer">Project Board</a>
                <span style="color: var(--muted);">·</span>
                <a class="text-link" href="https://truesight.me/dao/sunmint/whitepaper" target="_blank" rel="noreferrer">Whitepaper</a>
              </div>
            </div>
          </article>

          <article class="card card--media-top">
            <img src="assets/edgar-module.jpg" alt="Edgar AI interface visual" loading="lazy" />
            <div class="card-body">
              <div class="pill">Edgar</div>
              <h3>AI Agent for Transparent Impact</h3>
              <p>
                Edgar tokenizes contributions, streamlines cacao sales, and enables TDG cash-outs via our Community
                Collaborations Tool.
              </p>
              <ul>
                <li>Tokenizing contributions for governance rewards</li>
                <li>Automating cacao sales for forest restoration</li>
                <li>Cash-out flows that keep liquidity circulating</li>
              </ul>
              <div>
                <a class="text-link" href="edgar.html">Explore Edgar</a>
                <span style="color: var(--muted);">·</span>
                <a class="text-link" href="https://truesight.me/ledger" target="_blank" rel="noreferrer">Contributions Ledger</a>
                <span style="color: var(--muted);">·</span>
                <a class="text-link" href="https://dapp.truesight.me" target="_blank" rel="noreferrer">DApp Tools</a>
              </div>
            </div>
          </article>
        </div>
      </section>

      <section id="governance">
        <p class="pill">Governed by the community</p>
        <h2>How It Works</h2>
        <p class="section-lead">
          Our community-led workflow uncovers imbalances, imagines healing solutions, builds alternative business
          models, and reinvests results back into people and the planet.
        </p>
        <div class="steps">
          <article class="step-card">
            <h3>Discover Problems</h3>
            <p>Map the concrete bottlenecks facing our cacao stewards—fair pay, logistics, liquidity—and choose the one DAO members can unblock next.</p>
          </article>
          <article class="step-card">
            <h3>Build to Solve</h3>
            <p>Prototype the lean fix—new TDG scoring scripts, agroverse runs, or warehouse playbooks—and ship it openly so members can contribute.</p>
          </article>
          <article class="step-card">
            <h3>Generate Returns</h3>
            <p>Move cacao, report impact, and circulate TDG so each pilot pays contributors, replenishes inventory, and grows transparent treasury value.</p>
          </article>
          <article class="step-card">
            <h3>Transform Communities</h3>
            <p>Recycle profits and lessons into the next experiment—fund guardians, expand Sunmint plots, and make the compassion flywheel spin faster.</p>
          </article>
        </div>
      </section>
    </div>
    <footer>
      TrueSight DAO · Transparent impact data available at <a href="https://truesight.me">truesight.me</a>
    </footer>
  <script>
      // Load exchange rates dynamically from Google Apps Script web service
      // Data is synced from Wix ExchangeRate collection to Google Sheet "Performance Statistics" tab
      // Web service endpoint: https://script.google.com/macros/s/AKfycbzlfOBo9UqKOh7jIqGcmbPAMM1RxCbsJHb-UV_vM6VbvK_HSdT44KyGbbXIeo-_Ovfy/exec
      (function() {
        function formatNumber(num, decimals) {
          if (num === null || num === undefined) return '—';
          return num.toLocaleString('en-US', {
            minimumFractionDigits: decimals || 0,
            maximumFractionDigits: decimals !== undefined ? decimals : (num < 1 ? 5 : 2)
          });
        }

        function formatStatValue(key, data, exchangeRatesData) {
          if (!data || data.exchangeRate === null || data.exchangeRate === undefined) {
            return '—';
          }

          const value = data.exchangeRate;
          const currency = data.currency || '';

          switch (key) {
            case 'USD_TREASURY_BALANCE':
              return `${formatNumber(value, 2)} USD`;
            case 'ASSET_PER_TDG_ISSUED':
              return `${formatNumber(value, 5)} USD / TDG`;
            case 'TDG_ISSUED':
              return `${formatNumber(value, 2)} TDG`;
            case 'PAST_30_DAYS_SALES':
            case '30_DAYS_SALES':
              return `${formatNumber(value, 2)} USD`;
            case 'TDG_DAILY_BUY_BACK_BUDGET':
            case 'DAILY_BUY_BACK_BUDGET':
              // Use value from JSON (now synced from Wix CMS)
              return `${formatNumber(value, 5)} USD`;
            default:
              return `${formatNumber(value, 2)} ${currency}`;
          }
        }

        function populateStats(exchangeRatesData) {
          const statElements = document.querySelectorAll('.stat-value[data-key]');
          statElements.forEach(function(el) {
            const key = el.getAttribute('data-key');
            const data = exchangeRatesData[key];
            
            // Debug: log missing keys
            if (!data) {
              console.warn(`⚠️  Missing data for key: ${key}`);
              console.log('Available keys:', Object.keys(exchangeRatesData));
            }
            
            el.textContent = formatStatValue(key, data, exchangeRatesData);
          });
        }

        // Load exchange rates from Google Apps Script web service
        // Web service URL: https://script.google.com/macros/s/AKfycbzlfOBo9UqKOh7jIqGcmbPAMM1RxCbsJHb-UV_vM6VbvK_HSdT44KyGbbXIeo-_Ovfy/exec
        const PERFORMANCE_STATISTICS_WEB_SERVICE_URL = 'https://script.google.com/macros/s/AKfycbzlfOBo9UqKOh7jIqGcmbPAMM1RxCbsJHb-UV_vM6VbvK_HSdT44KyGbbXIeo-_Ovfy/exec';

        async function loadExchangeRates() {
          try {
            // Fetch from Google Apps Script web service
            const response = await fetch(PERFORMANCE_STATISTICS_WEB_SERVICE_URL);
            
            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            
            const result = await response.json();
            
            // Check for error in response
            if (result.error) {
              throw new Error(result.message || 'Unknown error from web service');
            }
            
            // Transform the response to match the expected format
            // The web service returns: { timestamp, data: { key: { key, description, exchangeRate, currency, updatedDate } } }
            // We need: { key: { key, description, exchangeRate, currency, updatedDate } }
            const exchangeRatesData = result.data || {};
            
            // Ensure each item has the expected structure
            Object.keys(exchangeRatesData).forEach(key => {
              const item = exchangeRatesData[key];
              // Map exchangeRate to the format expected by formatStatValue
              if (item && item.exchangeRate !== undefined) {
                exchangeRatesData[key] = {
                  key: item.key || key,
                  description: item.description || key,
                  exchangeRate: item.exchangeRate,
                  currency: item.currency || null,
                  updatedDate: item.updatedDate || null,
                  createdDate: item.createdDate || null
                };
              }
            });
            
            // Check if we got any data
            if (Object.keys(exchangeRatesData).length === 0) {
              throw new Error('No exchange rate data returned from web service');
            }

            // Cache for offline fallback
            try {
              localStorage.setItem('exchangeRatesCache', JSON.stringify({
                timestamp: result.timestamp || new Date().toISOString(),
                data: exchangeRatesData
              }));
            } catch (e) {
              // Ignore localStorage errors
            }
            
            return exchangeRatesData;
            
          } catch (error) {
            console.error('❌ Error loading exchange rates from web service:', error);
            
            // Fallback: try to load from localStorage cache
            try {
              const cached = localStorage.getItem('exchangeRatesCache');
              if (cached) {
                const parsed = JSON.parse(cached);
                console.log('⚠️  Using cached exchange rates (web service unavailable)');
                return parsed.data || parsed;
              }
            } catch (e) {
              // Ignore localStorage errors
            }
            
            return null;
          }
        }

        // Load and populate stats on page load
        loadExchangeRates().then(function(exchangeRatesData) {
          if (!exchangeRatesData) {
            // Show error or use fallback values
            console.warn('Could not load exchange rates. Showing placeholders.');
            // Stats will show "—" from the placeholder text
            return;
          }

          // Debug: log loaded data
          console.log('✅ Loaded exchange rates:', Object.keys(exchangeRatesData));

          // Cache for offline fallback
          try {
            localStorage.setItem('exchangeRatesCache', JSON.stringify({
              timestamp: new Date().toISOString(),
              data: exchangeRatesData
            }));
          } catch (e) {
            // Ignore localStorage errors
          }

          populateStats(exchangeRatesData);
        }).catch(function(error) {
          console.error('❌ Failed to load exchange rates:', error);
        });
      })();
</script>
    <script>
      // Hamburger menu toggle
      (function() {
        const menuToggle = document.querySelector('.menu-toggle');
        const navMenu = document.querySelector('.nav-menu');
        const siteHeader = document.querySelector('.site-header');
        
        if (!menuToggle || !navMenu) return;
        
        menuToggle.addEventListener('click', function() {
          const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
          menuToggle.setAttribute('aria-expanded', !isExpanded);
          navMenu.setAttribute('aria-hidden', isExpanded);
          siteHeader.classList.toggle('menu-open', !isExpanded);
        });
        
        // Close menu when clicking on a link
        navMenu.addEventListener('click', function(e) {
          if (e.target.tagName === 'A') {
            menuToggle.setAttribute('aria-expanded', 'false');
            navMenu.setAttribute('aria-hidden', 'true');
            siteHeader.classList.remove('menu-open');
          }
        });
        
        // Close menu when clicking overlay
        siteHeader.addEventListener('click', function(e) {
          if (e.target === siteHeader || e.target.classList.contains('site-header')) {
            menuToggle.setAttribute('aria-expanded', 'false');
            navMenu.setAttribute('aria-hidden', 'true');
            siteHeader.classList.remove('menu-open');
          }
        });
      })();
    </script>
</body>
</html>

