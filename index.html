<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
<title>A Better World based on Compassion | TrueSight DAO</title>
    <meta
      name="description"
      content="TrueSight DAO is a community of builders using open-source social ventures to heal the world with compassion."
    />
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.truesight.me/" />
    <meta property="og:title" content="A Better World based on Compassion | TrueSight DAO" />
    <meta property="og:description" content="TrueSight DAO is a community of builders using open-source social ventures to heal the world with compassion." />
    <meta property="og:image" content="https://www.truesight.me/assets/truesight-logo.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:site_name" content="TrueSight DAO" />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://www.truesight.me/" />
    <meta name="twitter:title" content="A Better World based on Compassion | TrueSight DAO" />
    <meta name="twitter:description" content="TrueSight DAO is a community of builders using open-source social ventures to heal the world with compassion." />
    <meta name="twitter:image" content="https://www.truesight.me/assets/truesight-logo.png" />
    <meta name="twitter:site" content="@TrueSightDAO" />
    
    <link
      rel="icon"
      href="https://static.wixstatic.com/ficons/0e2cde_dd65db118f8f499eb06c159d7262167d%7Emv2.ico"
      type="image/x-icon"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles/main.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
  <body>
    <nav class="site-header">
      <div class="header-container">
        <a href="index.html" class="header-logo">
          <img
            src="https://static.wixstatic.com/media/0e2cde_f81b16c82ebe4aaca4b5ce54b819a693~mv2.png/v1/fill/w_622,h_160,al_c,q_85,usm_0.66_1.00_0.01,enc_avif,quality_auto/20240612_truesight_dao_logo_long.png"
            alt="TrueSight DAO"
            width="155"
            height="40"
            loading="eager"
          />
        </a>
        <button class="menu-toggle" aria-label="Toggle menu" aria-expanded="false">
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>
        <ul class="nav-menu" aria-hidden="true">
          <li><a href="index.html">Home</a></li>
          <li><a href="about-us.html">About Us</a></li>
          <li>
            <button class="dropdown-toggle" aria-expanded="false" aria-haspopup="true">Projects</button>
            <ul class="dropdown-menu" aria-expanded="false">
              <li><a href="agroverse.html">Agroverse Community</a></li>
              <li><a href="sunmint.html">Sunmint Program</a></li>
              <li><a href="edgar.html">Edgar Platform</a></li>
            </ul>
          </li>
          <li><a href="https://truesight.me/proposals" target="_blank" rel="noreferrer noopener">Proposals</a></li>
          <li>
            <button class="dropdown-toggle" aria-expanded="false" aria-haspopup="true">Community</button>
            <ul class="dropdown-menu" aria-expanded="false">
              <li><a href="https://truesight.me/quests" target="_blank" rel="noreferrer noopener">Community Challenges</a></li>
              <li><a href="https://truesight.me/governors" target="_blank" rel="noreferrer noopener">Community Leaders</a></li>
              <li><a href="https://truesight.me/members-directory" target="_blank" rel="noreferrer noopener">Members Directory</a></li>
              <li><a href="https://truesight.me/recurring-tdg-awards" target="_blank" rel="noreferrer noopener">Ongoing Awards</a></li>
              <li><a href="https://truesight.me/submissions/scored-and-to-be-tokenized" target="_blank" rel="noreferrer noopener">Upcoming Awards</a></li>
              <li><a href="https://truesight.me/beerhall" target="_blank" rel="noreferrer noopener">Join Chat</a></li>
            </ul>
          </li>
          <li>
            <button class="dropdown-toggle" aria-expanded="false" aria-haspopup="true">Resources</button>
            <ul class="dropdown-menu" aria-expanded="false">
              <li><a href="faq.html">Frequently Asked Questions</a></li>
              <li><a href="https://truesight.me/whitepaper" target="_blank" rel="noreferrer noopener">Whitepaper</a></li>
              <li><a href="https://truesight.me/tokenomics" target="_blank" rel="noreferrer noopener">Tokenomics</a></li>
              <li><a href="https://truesight.me/dapp" target="_blank" rel="noreferrer noopener">Web App</a></li>
              <li><a href="https://truesight.me/ledger" target="_blank" rel="noreferrer noopener">Contributions Record</a></li>
              <li><a href="https://truesight.me/roadmap" target="_blank" rel="noreferrer noopener">Roadmap</a></li>
            </ul>
          </li>
          <li><a href="blog/index.html">Blog</a></li>
        </ul>
      </div>
    </nav>
    <div class="page">
      <header class="hero">
        <p class="pill">TrueSight DAO</p>
        <h1>Building a Better World <span>Based on Compassion</span></h1>
        <p>
          Our mission is to heal the world with love using an open-source philosophy. We earn governance tokens by
          building and contributing to social ventures that drive social and environmental justice, alleviating
          suffering. Profits from our ventures boost token value and unlock meaningful, transparent impact.
        </p>
        <div class="cta-row">
          <a class="cta primary" href="https://truesight.me/whitepaper" target="_blank" rel="noreferrer">
            Whitepaper
          </a>
          <a class="cta secondary" href="#movement">Co-Create</a>
          <a class="cta tertiary" href="https://dapp.truesight.me" target="_blank" rel="noreferrer">
            Access DApp
          </a>
        </div>

        <div class="stats-grid" aria-label="Ecosystem statistics" id="stats-grid">
          <!-- Stats will be populated dynamically from exchange-rates.json -->
          <article class="stat-card">
            <div class="stat-label">
              <h3>USD Treasury Balance</h3>
            </div>
            <div class="stat-value-container">
              <p class="stat-value" data-key="USD_TREASURY_BALANCE">—</p>
            </div>
          </article>
          <article class="stat-card">
            <div class="stat-label">
              <h3>Asset per TDG Issued</h3>
            </div>
            <div class="stat-value-container">
              <p class="stat-value" data-key="ASSET_PER_TDG_ISSUED">—</p>
            </div>
          </article>
          <article class="stat-card">
            <div class="stat-label">
              <h3>Total TDG Issued</h3>
            </div>
            <div class="stat-value-container">
              <p class="stat-value" data-key="TDG_ISSUED">—</p>
            </div>
          </article>
          <article class="stat-card">
            <div class="stat-label">
              <h3>Past 30 Days Sales</h3>
            </div>
            <div class="stat-value-container">
              <p class="stat-value" data-key="PAST_30_DAYS_SALES">—</p>
            </div>
          </article>
          <article class="stat-card">
            <div class="stat-label">
              <h3>Daily Buy-Back Budget</h3>
            </div>
            <div class="stat-value-container">
              <p class="stat-value" data-key="TDG_DAILY_BUY_BACK_BUDGET">—</p>
            </div>
          </article>
        </div>

        <!-- Monthly Sales Chart Section -->
        <div id="monthly-sales-chart-section" style="margin-top: var(--space-xl); display: none;">
          <div style="text-align: center; margin-bottom: var(--space-md);">
            <p class="pill">Sales Analytics</p>
            <h2 style="margin-top: var(--space-sm); margin-bottom: var(--space-sm);">Monthly Sales Volume</h2>
            <p class="section-lead" style="max-width: 600px; margin: 0 auto;">
              Track our sales performance over time, showing both monthly sales and cumulative growth.
            </p>
          </div>
          <div style="position: relative; height: 400px; max-width: 1000px; margin: 0 auto; background: var(--surface); padding: var(--space-md); border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
            <canvas id="monthlySalesChart"></canvas>
          </div>
          <div id="chart-loading" style="text-align: center; padding: var(--space-xl); color: var(--muted);">
            Loading sales data...
          </div>
          <div id="chart-error" style="display: none; text-align: center; padding: var(--space-md); background: rgba(244, 163, 0, 0.1); border-radius: 8px; margin-top: var(--space-md); color: var(--accent-2);">
          </div>
        </div>
      </header>

      <section id="movement">
        <div class="split">
          <div>
            <h2>Join Our Movement</h2>
            <p class="section-lead">
              Contribute acts of compassion at <strong>100&nbsp;TDG per hour</strong>, or <strong>1&nbsp;TDG per USD</strong>,
              and help us co-create a regenerative economy. Every contribution is logged on-chain so anyone can track our
              shared impact.
            </p>
            <p>
              Whether you design systems, plant trees, mentor farmers, or storytell, there is room for your gifts. Learn
              how we score contributions, mint TDG, and put capital to work for the Amazon rainforest and the people who
              steward it.
            </p>
          </div>
          <div class="card">
            <h3>Ways to Get Involved</h3>
            <p>Start where you are—our community values compassion in action over pedigree.</p>
            <ul>
              <li>Log compassionate actions to earn TDG governance tokens.</li>
              <li>Prototype open-source tools that make impact data auditable.</li>
              <li>Channel liquidity toward agroforestry and regenerative ventures.</li>
            </ul>
          </div>
        </div>
      </section>

      <section id="initiatives">
        <p class="pill">Community initiatives</p>
        <h2>Community Initiatives</h2>
        <p class="section-lead">
          From cacao distribution networks to AI agents, our ecosystem blends grassroots wisdom with exponential
          technology to regenerate the Amazon and beyond.
        </p>

        <div class="card-grid">
          <article class="card card--media-top">
            <a href="agroverse.html" style="display: block;">
              <img src="assets/agroverse-module.jpg" alt="Agroverse cacao farmers working together" loading="lazy" />
            </a>
            <div class="card-body">
              <div class="pill">Agroverse</div>
              <h3>Transparent Distribution Network</h3>
              <p>
                Connecting small-scale cacao farmers regenerating the Amazon to global markets with traceable tokenomics.
              </p>
              <ul>
                <li>Regenerative farming and forest protection</li>
                <li>Empowering smallholder collectives</li>
                <li>Transparent supply chain evolution</li>
                <li>Community-driven profit sharing</li>
              </ul>
              <div>
                <a class="text-link" href="agroverse.html">Explore Agroverse</a>
                <span style="color: var(--muted);">·</span>
                <a class="text-link" href="https://truesight.me/agl" target="_blank" rel="noreferrer">AGL Ledger</a>
                <span style="color: var(--muted);">·</span>
                <a class="text-link" href="https://truesight.me/dao/agroverse/whitepaper" target="_blank" rel="noreferrer">Whitepaper</a>
              </div>
            </div>
          </article>

          <article class="card card--media-top">
            <a href="sunmint.html" style="display: block;">
              <img src="assets/sunmint-module.jpg" alt="SunMint agroforestry canopy" loading="lazy" />
            </a>
            <div class="card-body">
              <div class="pill">SunMint</div>
              <h3>Reforesting the Amazon</h3>
              <p>
                A pioneering initiative dedicated to reforestation, soil regeneration, and carbon sequestration for future
                generations.
              </p>
              <ul>
                <li>Agroforestry systems that revitalize the biome</li>
                <li>Carbon credits unlocked as cacao trees are planted</li>
              </ul>
              <div>
                <a class="text-link" href="sunmint.html">Explore Sunmint</a>
                <span style="color: var(--muted);">·</span>
                <a class="text-link" href="https://truesight.me/dao/sunmit/project" target="_blank" rel="noreferrer">Project Board</a>
                <span style="color: var(--muted);">·</span>
                <a class="text-link" href="https://truesight.me/dao/sunmint/whitepaper" target="_blank" rel="noreferrer">Whitepaper</a>
              </div>
            </div>
          </article>

          <article class="card card--media-top">
            <a href="edgar.html" style="display: block;">
              <img src="assets/edgar-module.jpg" alt="Edgar AI interface visual" loading="lazy" />
            </a>
            <div class="card-body">
              <div class="pill">Edgar</div>
              <h3>AI Agent for Transparent Impact</h3>
              <p>
                Edgar tokenizes contributions, streamlines cacao sales, and enables TDG cash-outs via our Community
                Collaborations Tool.
              </p>
              <ul>
                <li>Tokenizing contributions for governance rewards</li>
                <li>Automating cacao sales for forest restoration</li>
                <li>Cash-out flows that keep liquidity circulating</li>
              </ul>
              <div>
                <a class="text-link" href="edgar.html">Explore Edgar</a>
                <span style="color: var(--muted);">·</span>
                <a class="text-link" href="https://truesight.me/ledger" target="_blank" rel="noreferrer">Contributions Ledger</a>
                <span style="color: var(--muted);">·</span>
                <a class="text-link" href="https://dapp.truesight.me" target="_blank" rel="noreferrer">DApp Tools</a>
              </div>
            </div>
          </article>
        </div>
      </section>

      <section id="governance">
        <p class="pill">Governed by the community</p>
        <h2>How It Works</h2>
        <p class="section-lead">
          Our community-led workflow uncovers imbalances, imagines healing solutions, builds alternative business
          models, and reinvests results back into people and the planet.
        </p>
        <div class="steps">
          <article class="step-card">
            <h3>Discover Problems</h3>
            <p>Map the concrete bottlenecks facing our cacao stewards—fair pay, logistics, liquidity—and choose the one DAO members can unblock next.</p>
          </article>
          <article class="step-card">
            <h3>Build to Solve</h3>
            <p>Prototype the lean fix—new TDG scoring scripts, agroverse runs, or warehouse playbooks—and ship it openly so members can contribute.</p>
          </article>
          <article class="step-card">
            <h3>Generate Returns</h3>
            <p>Move cacao, report impact, and circulate TDG so each pilot pays contributors, replenishes inventory, and grows transparent treasury value.</p>
          </article>
          <article class="step-card">
            <h3>Transform Communities</h3>
            <p>Recycle profits and lessons into the next experiment—fund guardians, expand Sunmint plots, and make the compassion flywheel spin faster.</p>
          </article>
        </div>
      </section>
    </div>
    <footer class="footer">
      <div class="footer-content">
        <div style="margin-bottom: var(--space-lg);">
          <div style="margin-bottom: var(--space-md);">
            <h4 style="font-size: 0.875rem; font-weight: 600; margin-bottom: var(--space-xs); color: var(--text); text-align: center; text-transform: uppercase; letter-spacing: 0.05em;">Transparency</h4>
            <ul style="list-style: none; padding: 0; margin: 0; display: flex; flex-wrap: wrap; justify-content: center; gap: var(--space-sm) var(--space-lg);">
              <li><a href="https://truesight.me/physical-asset-movements" target="_blank" rel="noreferrer noopener" style="color: var(--muted); text-decoration: none; font-size: 0.9375rem;">Shipment History</a></li>
              <li><a href="https://truesight.me/physical-transactions" target="_blank" rel="noreferrer noopener" style="color: var(--muted); text-decoration: none; font-size: 0.9375rem;">Financial Records</a></li>
              <li><a href="https://agroverse.shop/consignments" target="_blank" rel="noreferrer noopener" style="color: var(--muted); text-decoration: none; font-size: 0.9375rem;">Consignment Tracking</a></li>
              <li><a href="https://truesight.me/physical-assets/serialized" target="_blank" rel="noreferrer noopener" style="color: var(--muted); text-decoration: none; font-size: 0.9375rem;">Product Verification</a></li>
              <li><a href="https://truesight.me/digital-assets" target="_blank" rel="noreferrer noopener" style="color: var(--muted); text-decoration: none; font-size: 0.9375rem;">Token Holdings</a></li>
            </ul>
          </div>
          <div style="margin-bottom: var(--space-md);">
            <h4 style="font-size: 0.875rem; font-weight: 600; margin-bottom: var(--space-xs); color: var(--text); text-align: center; text-transform: uppercase; letter-spacing: 0.05em;">Governance & Records</h4>
            <ul style="list-style: none; padding: 0; margin: 0; display: flex; flex-wrap: wrap; justify-content: center; gap: var(--space-sm) var(--space-lg);">
              <li><a href="https://truesight.me/rubric" target="_blank" rel="noreferrer noopener" style="color: var(--muted); text-decoration: none; font-size: 0.9375rem;">Scoring Rubric</a></li>
              <li><a href="https://truesight.me/submissions/raw-telegram-chatlogs" target="_blank" rel="noreferrer noopener" style="color: var(--muted); text-decoration: none; font-size: 0.9375rem;">Engagement Logs</a></li>
            </ul>
          </div>
          <div style="margin-bottom: var(--space-md);">
            <h4 style="font-size: 0.875rem; font-weight: 600; margin-bottom: var(--space-xs); color: var(--text); text-align: center; text-transform: uppercase; letter-spacing: 0.05em;">Data & Records</h4>
            <ul style="list-style: none; padding: 0; margin: 0; display: flex; flex-wrap: wrap; justify-content: center; gap: var(--space-sm) var(--space-lg);">
              <li><a href="https://truesight.me/offchain-assets" target="_blank" rel="noreferrer noopener" style="color: var(--muted); text-decoration: none; font-size: 0.9375rem;">Physical Assets</a></li>
              <li><a href="https://truesight.me/offchain-asset-location" target="_blank" rel="noreferrer noopener" style="color: var(--muted); text-decoration: none; font-size: 0.9375rem;">Asset Location</a></li>
              <li><a href="https://truesight.me/digital-signatures" target="_blank" rel="noreferrer noopener" style="color: var(--muted); text-decoration: none; font-size: 0.9375rem;">Digital Signatures</a></li>
              <li><a href="https://truesight.me/notarizations" target="_blank" rel="noreferrer noopener" style="color: var(--muted); text-decoration: none; font-size: 0.9375rem;">Notarizations</a></li>
              <li><a href="https://truesight.me/currencies" target="_blank" rel="noreferrer noopener" style="color: var(--muted); text-decoration: none; font-size: 0.9375rem;">Currencies</a></li>
              <li><a href="https://truesight.me/physical-assets/serialized/sold" target="_blank" rel="noreferrer noopener" style="color: var(--muted); text-decoration: none; font-size: 0.9375rem;">Sold Products</a></li>
              <li><a href="https://truesight.me/ttl" target="_blank" rel="noreferrer noopener" style="color: var(--muted); text-decoration: none; font-size: 0.9375rem;">TTL Records</a></li>
            </ul>
          </div>
          <div>
            <h4 style="font-size: 0.875rem; font-weight: 600; margin-bottom: var(--space-xs); color: var(--text); text-align: center; text-transform: uppercase; letter-spacing: 0.05em;">Partnerships</h4>
            <ul style="list-style: none; padding: 0; margin: 0; display: flex; flex-wrap: wrap; justify-content: center; gap: var(--space-sm) var(--space-lg);">
              <li><a href="https://agroverse.shop/community-warehouse-manager/sla" target="_blank" rel="noreferrer noopener" style="color: var(--muted); text-decoration: none; font-size: 0.9375rem;">Warehouse Partnership Terms</a></li>
              <li><a href="https://agroverse.shop/community-distributor/agreement" target="_blank" rel="noreferrer noopener" style="color: var(--muted); text-decoration: none; font-size: 0.9375rem;">Distribution Partnership Terms</a></li>
            </ul>
          </div>
        </div>
        <h2>JOIN OUR MOVEMENT</h2>
        <p>Co-Create with us</p>
        <div class="footer-social">
          <a href="https://t.me/TrueSightDAO" target="_blank" rel="noreferrer noopener" aria-label="Telegram">
            <img
              src="assets/telegram-icon.jpg"
              alt="Telegram"
              width="48"
              height="48"
              loading="lazy"
            />
          </a>
          <a href="https://github.com/TrueSightDAO" target="_blank" rel="noreferrer noopener" aria-label="GitHub">
            <svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor">
              <title>GitHub</title>
              <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
            </svg>
          </a>
        </div>
        <p style="margin-top: var(--space-lg); font-size: 0.875rem; color: var(--muted);">
          TrueSight DAO · Transparent impact data available at <a href="index.html" style="color: var(--accent-2);">truesight.me</a>
        </p>
      </div>
    </footer>
  <script>
      // Load exchange rates dynamically from Google Apps Script web service
      // Data is synced from Wix ExchangeRate collection to Google Sheet "Performance Statistics" tab
      // Web service endpoint: https://script.google.com/macros/s/AKfycbzlfOBo9UqKOh7jIqGcmbPAMM1RxCbsJHb-UV_vM6VbvK_HSdT44KyGbbXIeo-_Ovfy/exec
      (function() {
        function formatNumber(num, decimals) {
          if (num === null || num === undefined) return '—';
          return num.toLocaleString('en-US', {
            minimumFractionDigits: decimals || 0,
            maximumFractionDigits: decimals !== undefined ? decimals : (num < 1 ? 5 : 2)
          });
        }

        function formatStatValue(key, data, exchangeRatesData) {
          if (!data || data.exchangeRate === null || data.exchangeRate === undefined) {
            return '—';
          }

          const value = data.exchangeRate;
          const currency = data.currency || '';

          switch (key) {
            case 'USD_TREASURY_BALANCE':
              return `${formatNumber(value, 2)} USD`;
            case 'ASSET_PER_TDG_ISSUED':
              return `${formatNumber(value, 5)} USD / TDG`;
            case 'TDG_ISSUED':
              return `${formatNumber(value, 2)} TDG`;
            case 'PAST_30_DAYS_SALES':
            case '30_DAYS_SALES':
              return `${formatNumber(value, 2)} USD`;
            case 'TDG_DAILY_BUY_BACK_BUDGET':
            case 'DAILY_BUY_BACK_BUDGET':
              // Use value from JSON (now synced from Wix CMS)
              return `${formatNumber(value, 5)} USD`;
            default:
              return `${formatNumber(value, 2)} ${currency}`;
          }
        }

        function populateStats(exchangeRatesData) {
          const statElements = document.querySelectorAll('.stat-value[data-key]');
          statElements.forEach(function(el) {
            const key = el.getAttribute('data-key');
            const data = exchangeRatesData[key];
            
            // Debug: log missing keys
            if (!data) {
              console.warn(`⚠️  Missing data for key: ${key}`);
              console.log('Available keys:', Object.keys(exchangeRatesData));
            }
            
            el.textContent = formatStatValue(key, data, exchangeRatesData);
          });
        }

        // Load exchange rates from Google Apps Script web service
        // Web service URL: https://script.google.com/macros/s/AKfycbzlfOBo9UqKOh7jIqGcmbPAMM1RxCbsJHb-UV_vM6VbvK_HSdT44KyGbbXIeo-_Ovfy/exec
        const PERFORMANCE_STATISTICS_WEB_SERVICE_URL = 'https://script.google.com/macros/s/AKfycbzlfOBo9UqKOh7jIqGcmbPAMM1RxCbsJHb-UV_vM6VbvK_HSdT44KyGbbXIeo-_Ovfy/exec';

        async function loadExchangeRates() {
          try {
            // Fetch from Google Apps Script web service
            const response = await fetch(PERFORMANCE_STATISTICS_WEB_SERVICE_URL);
            
            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            
            const result = await response.json();
            
            // Check for error in response
            if (result.error) {
              throw new Error(result.message || 'Unknown error from web service');
            }
            
            // Transform the response to match the expected format
            // The web service returns: { timestamp, data: { key: { key, description, exchangeRate, currency, updatedDate } } }
            // We need: { key: { key, description, exchangeRate, currency, updatedDate } }
            const exchangeRatesData = result.data || {};
            
            // Ensure each item has the expected structure
            Object.keys(exchangeRatesData).forEach(key => {
              const item = exchangeRatesData[key];
              // Map exchangeRate to the format expected by formatStatValue
              if (item && item.exchangeRate !== undefined) {
                exchangeRatesData[key] = {
                  key: item.key || key,
                  description: item.description || key,
                  exchangeRate: item.exchangeRate,
                  currency: item.currency || null,
                  updatedDate: item.updatedDate || null,
                  createdDate: item.createdDate || null
                };
              }
            });
            
            // Check if we got any data
            if (Object.keys(exchangeRatesData).length === 0) {
              throw new Error('No exchange rate data returned from web service');
            }

            // Cache for offline fallback
            try {
              localStorage.setItem('exchangeRatesCache', JSON.stringify({
                timestamp: result.timestamp || new Date().toISOString(),
                data: exchangeRatesData
              }));
            } catch (e) {
              // Ignore localStorage errors
            }
            
            return exchangeRatesData;
            
          } catch (error) {
            console.error('❌ Error loading exchange rates from web service:', error);
            
            // Fallback: try to load from localStorage cache
            try {
              const cached = localStorage.getItem('exchangeRatesCache');
              if (cached) {
                const parsed = JSON.parse(cached);
                console.log('⚠️  Using cached exchange rates (web service unavailable)');
                return parsed.data || parsed;
              }
            } catch (e) {
              // Ignore localStorage errors
            }
            
            return null;
          }
        }

        // Load and populate stats on page load
        loadExchangeRates().then(function(exchangeRatesData) {
          if (!exchangeRatesData) {
            // Show error or use fallback values
            console.warn('Could not load exchange rates. Showing placeholders.');
            // Stats will show "—" from the placeholder text
            return;
          }

          // Debug: log loaded data
          console.log('✅ Loaded exchange rates:', Object.keys(exchangeRatesData));

          // Cache for offline fallback
          try {
            localStorage.setItem('exchangeRatesCache', JSON.stringify({
              timestamp: new Date().toISOString(),
              data: exchangeRatesData
            }));
          } catch (e) {
            // Ignore localStorage errors
          }

          populateStats(exchangeRatesData);
        }).catch(function(error) {
          console.error('❌ Failed to load exchange rates:', error);
        });
      })();
</script>
    <script>
      // Hamburger menu toggle and dropdown functionality
      (function() {
        const menuToggle = document.querySelector('.menu-toggle');
        const navMenu = document.querySelector('.nav-menu');
        const siteHeader = document.querySelector('.site-header');
        
        if (!menuToggle || !navMenu) return;
        
        // Hamburger menu toggle
        menuToggle.addEventListener('click', function() {
          const isExpanded = menuToggle.getAttribute('aria-expanded') === 'true';
          menuToggle.setAttribute('aria-expanded', !isExpanded);
          navMenu.setAttribute('aria-hidden', isExpanded);
          siteHeader.classList.toggle('menu-open', !isExpanded);
        });
        
        // Dropdown toggle functionality (for mobile)
        const dropdownToggles = navMenu.querySelectorAll('.dropdown-toggle');
        dropdownToggles.forEach(function(toggle) {
          toggle.addEventListener('click', function(e) {
            // On mobile, toggle the dropdown
            if (window.innerWidth <= 768) {
              e.preventDefault();
              e.stopPropagation();
              const isExpanded = toggle.getAttribute('aria-expanded') === 'true';
              const dropdownMenu = toggle.nextElementSibling;
              
              toggle.setAttribute('aria-expanded', !isExpanded);
              if (dropdownMenu) {
                dropdownMenu.setAttribute('aria-expanded', !isExpanded);
              }
            }
          });
        });
        
        // Close menu when clicking on a link
        navMenu.addEventListener('click', function(e) {
          if (e.target.tagName === 'A') {
            menuToggle.setAttribute('aria-expanded', 'false');
            navMenu.setAttribute('aria-hidden', 'true');
            siteHeader.classList.remove('menu-open');
            
            // Close all dropdowns
            dropdownToggles.forEach(function(toggle) {
              toggle.setAttribute('aria-expanded', 'false');
              const dropdownMenu = toggle.nextElementSibling;
              if (dropdownMenu) {
                dropdownMenu.setAttribute('aria-expanded', 'false');
              }
            });
          }
        });
        
        // Close menu when clicking overlay
        siteHeader.addEventListener('click', function(e) {
          if (e.target === siteHeader || e.target.classList.contains('site-header')) {
            menuToggle.setAttribute('aria-expanded', 'false');
            navMenu.setAttribute('aria-hidden', 'true');
            siteHeader.classList.remove('menu-open');
          }
        });
      })();

      // Monthly Sales Chart
      (function() {
        const MONTHLY_STATISTICS_URL = 'https://script.google.com/macros/s/AKfycbzlfOBo9UqKOh7jIqGcmbPAMM1RxCbsJHb-UV_vM6VbvK_HSdT44KyGbbXIeo-_Ovfy/exec?type=monthly';
        let monthlySalesChart = null;

        function formatCurrency(amount) {
          return new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: 'USD',
            minimumFractionDigits: 2,
            maximumFractionDigits: 2
          }).format(amount);
        }

        function formatMonth(monthStr) {
          const [year, month] = monthStr.split('-');
          const date = new Date(year, parseInt(month) - 1);
          return date.toLocaleDateString('en-US', { month: 'short', year: 'numeric' });
        }

        async function loadMonthlyStatistics() {
          try {
            const chartSection = document.getElementById('monthly-sales-chart-section');
            const loadingEl = document.getElementById('chart-loading');
            const errorEl = document.getElementById('chart-error');
            
            const response = await fetch(MONTHLY_STATISTICS_URL);
            
            if (!response.ok) {
              throw new Error(`HTTP error! status: ${response.status}`);
            }
            
            const result = await response.json();
            
            if (result.error) {
              throw new Error(result.message || 'Unknown error from web service');
            }
            
            const monthlyData = result.data || [];
            
            if (monthlyData.length === 0) {
              throw new Error('No monthly statistics data available');
            }
            
            // Hide loading, show chart section
            loadingEl.style.display = 'none';
            chartSection.style.display = 'block';
            
            // Render chart
            renderChart(monthlyData);
            
          } catch (error) {
            console.error('Error loading monthly statistics:', error);
            document.getElementById('chart-loading').style.display = 'none';
            const errorEl = document.getElementById('chart-error');
            errorEl.style.display = 'block';
            errorEl.textContent = 'Unable to load monthly sales data. Please try again later.';
          }
        }

        function renderChart(data) {
          const ctx = document.getElementById('monthlySalesChart').getContext('2d');
          
          // Prepare data for chart
          const labels = data.map(item => formatMonth(item.month));
          const monthlySales = data.map(item => item.monthlySales);
          const cumulativeSales = data.map(item => item.cumulativeSales);
          
          // Destroy existing chart if it exists
          if (monthlySalesChart) {
            monthlySalesChart.destroy();
          }
          
          // Create new chart - using single Y-axis to avoid confusion
          monthlySalesChart = new Chart(ctx, {
            type: 'line',
            data: {
              labels: labels,
              datasets: [
                {
                  label: 'Monthly Sales',
                  data: monthlySales,
                  borderColor: 'rgb(95, 111, 82)', // --forest color
                  backgroundColor: 'rgba(95, 111, 82, 0.1)',
                  tension: 0.1,
                  yAxisID: 'y',
                  fill: true,
                  pointRadius: 3,
                  pointHoverRadius: 5,
                  order: 2 // Draw monthly sales on top
                },
                {
                  label: 'Cumulative Sales',
                  data: cumulativeSales,
                  borderColor: 'rgb(244, 163, 0)', // --accent color
                  backgroundColor: 'rgba(244, 163, 0, 0.05)',
                  tension: 0.1,
                  yAxisID: 'y',
                  fill: false,
                  pointRadius: 2,
                  pointHoverRadius: 4,
                  borderWidth: 2,
                  borderDash: [5, 5], // Dashed line to differentiate
                  order: 1 // Draw cumulative sales behind
                }
              ]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              interaction: {
                mode: 'index',
                intersect: false,
              },
              plugins: {
                legend: {
                  display: true,
                  position: 'top',
                  labels: {
                    usePointStyle: true,
                    padding: 15,
                    font: {
                      family: 'Space Grotesk, Inter, system-ui, sans-serif',
                      size: 13
                    }
                  }
                },
                tooltip: {
                  backgroundColor: 'rgba(43, 29, 20, 0.95)',
                  padding: 12,
                  titleFont: {
                    family: 'Space Grotesk, Inter, system-ui, sans-serif',
                    size: 14,
                    weight: '600'
                  },
                  bodyFont: {
                    family: 'Inter, system-ui, sans-serif',
                    size: 13
                  },
                  callbacks: {
                    label: function(context) {
                      let label = context.dataset.label || '';
                      if (label) {
                        label += ': ';
                      }
                      label += formatCurrency(context.parsed.y);
                      return label;
                    }
                  }
                }
              },
              scales: {
                x: {
                  display: true,
                  grid: {
                    display: false
                  },
                  ticks: {
                    font: {
                      family: 'Inter, system-ui, sans-serif',
                      size: 12
                    },
                    color: 'var(--muted)'
                  }
                },
                y: {
                  type: 'linear',
                  display: true,
                  position: 'left',
                  title: {
                    display: true,
                    text: 'Sales Volume (USD)',
                    font: {
                      family: 'Space Grotesk, Inter, system-ui, sans-serif',
                      size: 13,
                      weight: '600'
                    },
                    color: 'var(--text)'
                  },
                  grid: {
                    color: 'rgba(95, 111, 82, 0.1)'
                  },
                  ticks: {
                    font: {
                      family: 'Inter, system-ui, sans-serif',
                      size: 11
                    },
                    color: 'var(--muted)',
                    callback: function(value) {
                      return formatCurrency(value);
                    }
                  }
                }
              }
            }
          });
        }

        // Load monthly statistics on page load
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', loadMonthlyStatistics);
        } else {
          loadMonthlyStatistics();
        }
      })();
    </script>
</body>
</html>

